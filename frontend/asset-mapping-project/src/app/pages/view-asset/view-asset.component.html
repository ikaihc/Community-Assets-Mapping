<!-- src/app/pages/view-asset/view-asset.component.html -->
<div class="view-asset-page">
  <div class="card">
    <!-- 左侧信息 -->
    <div class="info-column">
      <h1>{{ asset.name }} Information</h1>

      <!-- Basic Info -->
      <section>
        <h2>Basic Info</h2>

        <label>Asset Name</label>
        <!-- 改成 ngModel 双向绑定 -->
        <input type="text" [(ngModel)]="asset.name" />

        <label>Categories</label>
        <div class="select-box">
          <span *ngFor="let cat of asset.categories">{{ cat }}</span>
        </div>

        <label>Description</label>
        <textarea rows="3" [(ngModel)]="asset.description"></textarea>

        <label>Volunteering Opportunities?</label>
        <div>
          <button 
            [class.selected]="asset.hasVolunteer" 
            (click)="asset.hasVolunteer = true" 
            type="button"
          >Yes</button>
          <button 
            [class.selected]="!asset.hasVolunteer" 
            (click)="asset.hasVolunteer = false" 
            type="button"
          >No</button>
        </div>
      </section>

      <!-- Location -->
      <section>
        <h2>Location</h2>

        <label>Address – Street and Unit</label>
        <input type="text" [(ngModel)]="asset.location.address" />

        <label>Address – City</label>
        <input type="text" [(ngModel)]="asset.location.city" />

        <label>Address – Postcode</label>
        <input type="text" [(ngModel)]="asset.location.postcode" />

        <label>Transportation Options</label>
        <textarea rows="2" [(ngModel)]="asset.location.transportation"></textarea>
      </section>

      <!-- Registration & Schedule -->
      <section>
        <h2>Registration and Schedule</h2>

        <label>Schedule Information</label>
        <input type="text" class="form-control" [(ngModel)]="asset.schedule.info" />

        <label *ngIf="asset.schedule.details?.length">Details</label>
        <div *ngFor="let d of asset.schedule.details; let i = index">
          <textarea
            class="form-control"
            rows="2"
            [(ngModel)]="asset.schedule.details[i]"
          ></textarea>
        </div>

        <label>Registration Information</label>
        <textarea
          class="form-control"
          rows="2"
          [(ngModel)]="asset.registration"
        ></textarea>

        <!-- 语言选择 -->
        <section>
          <label>What languages does this program offer?</label>
          <div class="tag-button-group">
            <button
              *ngFor="let lang of allLanguages"
              class="btn-tag"
              [class.selected]="asset.languages.includes(lang)"
              (click)="toggleLanguage(lang)"
              type="button"
            >
              {{ lang }}
            </button>
          </div>
        </section>

        <!-- 活动形式 -->
        <section>
          <label>What activity format does this program offer?</label>
          <div class="tag-button-group">
            <button
              *ngFor="let fmt of allFormats"
              class="btn-tag"
              [class.selected]="asset.formats.includes(fmt)"
              (click)="toggleFormat(fmt)"
              type="button"
            >
              {{ fmt }}
            </button>
          </div>
        </section>
      </section>
    </div>

    <!-- 右侧地图 -->
    <div class="map-column">
      <div id="view-map" class="map-container"></div>
    </div>
  </div>
</div>
