<!-- src/app/pages/view-asset/view-asset.component.html -->
<div class="view-asset-page">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading">
    <p>Loading asset information...</p>
  </div>

  <!-- Asset Content -->
  <div *ngIf="!isLoading && asset" class="card">
    <!-- Left Column: Asset Information -->
    <div class="info-column">
      <h1>{{ asset.name }} Information</h1>

      <!-- Basic Info -->
      <section>
        <h2>Basic Info</h2>

        <label>Asset Name</label>
        <input type="text" [value]="asset.name" readonly />

        <label>Categories</label>
        <div class="select-box">
          <span *ngFor="let category of getAssetCategories()">{{ category }}</span>
        </div>

        <label>Description</label>
        <textarea rows="3" [value]="asset.description || ''" readonly></textarea>

        <label>Volunteering Opportunities?</label>
        <div>
          <button
            [class.selected]="asset.has_volunteer_opportunities"
            type="button"
            disabled
          >Yes</button>
          <button
            [class.selected]="!asset.has_volunteer_opportunities"
            type="button"
            disabled
          >No</button>
        </div>
      </section>

      <!-- Location -->
      <section *ngIf="asset.address">
        <h2>Location</h2>

        <label>Address – Street and Unit</label>
        <input type="text" [value]="asset.address.address_line_1 + (asset.address.address_line_2 ? ', ' + asset.address.address_line_2 : '')" readonly />

        <label>Address – City</label>
        <input type="text" [value]="asset.address.city" readonly />

        <label>Address – Postcode</label>
        <input type="text" [value]="asset.address.postal_code" readonly />
      </section>

      <!-- Contact Information -->
      <section *ngIf="asset.contact">
        <h2>Contact Information</h2>

        <label>Contact Name</label>
        <input type="text" [value]="asset.contact.contact_name || ''" readonly />

        <label>Contact Title</label>
        <input type="text" [value]="asset.contact.contact_title || ''" readonly />

        <label>Contact Email</label>
        <input type="text" [value]="asset.contact.contact_email || ''" readonly />

        <label>Contact Phone</label>
        <input type="text" [value]="asset.contact.contact_phone || ''" readonly />
      </section>

      <!-- Registration & Schedule -->
      <section>
        <h2>Registration and Schedule</h2>

        <label>Website</label>
        <input type="text" [value]="asset.website || ''" readonly />

        <label>Phone</label>
        <input type="text" [value]="asset.phone || ''" readonly />

        <label>Email</label>
        <input type="text" [value]="asset.email || ''" readonly />
      </section>

      <!-- Navigation -->
      <div class="navigation-buttons">
        <a routerLink="/home" class="btn-outline-primary">← Back to Home</a>
      </div>
    </div>

    <!-- Right Column: Map -->
    <div class="map-column">
      <div id="view-map" class="map-container"></div>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="!isLoading && !asset" class="error">
    <p>Asset not found. <a routerLink="/home">Return to home</a></p>
  </div>
</div>
