<div class="add-user-container">
  <h1 class="form-title">User Information</h1>

  <form [formGroup]="addUserForm" (ngSubmit)="onSubmit()" class="user-form">

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        placeholder="johndoe@email.com"
        [class.error]="addUserForm.get('email')?.invalid && addUserForm.get('email')?.touched"
      />
      <div class="error-message" *ngIf="addUserForm.get('email')?.invalid && addUserForm.get('email')?.touched">
        <span *ngIf="addUserForm.get('email')?.errors?.['required']">Email is required</span>
        <span *ngIf="addUserForm.get('email')?.errors?.['email']">Please enter a valid email</span>
      </div>
    </div>

    <div class="form-group">
      <label for="firstName">First Name</label>
      <input
        type="text"
        id="firstName"
        formControlName="firstName"
        placeholder="John"
        [class.error]="addUserForm.get('firstName')?.invalid && addUserForm.get('firstName')?.touched"
      />
      <div class="error-message" *ngIf="addUserForm.get('firstName')?.invalid && addUserForm.get('firstName')?.touched">
        <span *ngIf="addUserForm.get('firstName')?.errors?.['required']">First name is required</span>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input
        type="text"
        id="lastName"
        formControlName="lastName"
        placeholder="Doe"
        [class.error]="addUserForm.get('lastName')?.invalid && addUserForm.get('lastName')?.touched"
      />
      <div class="error-message" *ngIf="addUserForm.get('lastName')?.invalid && addUserForm.get('lastName')?.touched">
        <span *ngIf="addUserForm.get('lastName')?.errors?.['required']">Last name is required</span>
      </div>
    </div>

    <div class="form-group">
      <label for="jobTitle">Job Title</label>
      <input
        type="text"
        id="jobTitle"
        formControlName="jobTitle"
        placeholder="Social Worker"
        [class.error]="addUserForm.get('jobTitle')?.invalid && addUserForm.get('jobTitle')?.touched"
      />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        placeholder="Enter password (minimum 8 characters)"
        [class.error]="addUserForm.get('password')?.invalid && addUserForm.get('password')?.touched"
      />
      <div class="error-message" *ngIf="addUserForm.get('password')?.invalid && addUserForm.get('password')?.touched">
        <span *ngIf="addUserForm.get('password')?.errors?.['required']">Password is required</span>
        <span *ngIf="addUserForm.get('password')?.errors?.['minlength']">Password must be at least 8 characters</span>
      </div>
    </div>

    <div class="form-group">
      <label for="role">Role</label>
      <select
        id="role"
        formControlName="role"
        [class.error]="addUserForm.get('role')?.invalid && addUserForm.get('role')?.touched"
      >
        <option value="guest">Guest</option>
        <option value="navigator">Navigator</option>
        <option value="admin">Admin</option>
      </select>
      <div class="error-message" *ngIf="addUserForm.get('role')?.invalid && addUserForm.get('role')?.touched">
        <span *ngIf="addUserForm.get('role')?.errors?.['required']">Role is required</span>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="back-btn" (click)="onBack()">
        ‚Üê Back
      </button>
      <button
        type="submit"
        class="create-btn"
        [disabled]="addUserForm.invalid || isLoading"
      >
        <span *ngIf="isLoading" class="loading-spinner"></span>
        {{ isLoading ? 'Creating...' : 'Create New User' }}
      </button>
    </div>

  </form>
</div>
